#!/bin/bash

# Считываем имя файла из аргумента
filename="$1"

# Проверяем, существует ли файл
if [ ! -f "$filename" ]; then
    echo "Ошибка: файл '$filename' не найден."
    exit 1
fi

# Запрашиваем у пользователя слова для замены и новое слово
read -p "Введите слово для замены: " old_word
read -p "Введите новое слово: " new_word

# Заменяем все вхождения слова
sed -i.bak "s/${old_word}/${new_word}/g" "$filename"

# Выводим сообщение об успешной замене
echo "Все вхождения '$old_word' в файле '$filename' заменены на '$new_word'."
echo "Создан резервный файл '$filename.bak'."
